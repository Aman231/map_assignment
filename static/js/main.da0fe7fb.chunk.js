(this.webpackJsonpmap_assignment=this.webpackJsonpmap_assignment||[]).push([[0],{39:function(e,t,c){},65:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(10),i=c.n(s),r=(c(39),c(15)),o=c(11),l=function(){var e=Object(a.useState)({width:void 0,height:void 0}),t=Object(o.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){var e=function(){n({width:window.innerWidth,height:window.innerHeight})};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),c},d=c(1),j=function(e){var t=e.title,c=l().width;return Object(d.jsxs)("header",{className:"Header",children:[Object(d.jsx)("h1",{children:t}),c<768?Object(d.jsx)(r.b,{}):c<992?Object(d.jsx)(r.c,{}):Object(d.jsx)(r.a,{})]})},u=c(8),p=c(18),h=c.n(p),b=c(30),O=c(31),x=c.n(O),f=function(e){var t=Object(a.useState)([]),c=Object(o.a)(t,2),n=c[0],s=c[1],i=Object(a.useState)(null),r=Object(o.a)(i,2),l=r[0],d=r[1],j=Object(a.useState)(!1),u=Object(o.a)(j,2),p=u[0],O=u[1];return Object(a.useEffect)((function(){var t=!0;(function(){var e=Object(b.a)(h.a.mark((function e(c){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,x.a.get(c);case 4:a=e.sent,t&&(s(a.data),d(null)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t&&s([{id:1,postal_code:"368219",longitude:46.9788288,latitude:42.9612827,place:"Chirkey"},{id:2,postal_code:"8712",longitude:121.29146,latitude:5.87568,place:"Kanlagay"},{id:3,postal_code:"59215-000",longitude:-35.4124355,latitude:-6.4472391,place:"Nova Cruz"},{id:4,postal_code:"403930",longitude:109.799646,latitude:41.221015,place:"Xidoupu"},{id:5,postal_code:"34555 AM",longitude:105.729085,latitude:35.963912,place:"Xieji"},{id:6,postal_code:"373-0862",longitude:139.381182,latitude:36.2569423,place:"\u014cta"},{id:7,postal_code:"55550-000",longitude:-35.4562795,latitude:-8.7393595,place:"\xc1gua Preta"},{id:8,postal_code:"4554-99",longitude:97.7525352,latitude:4.9623026,place:"Idi Rayeuk"},{id:9,postal_code:"CEE 3455",longitude:29.83333,latitude:46.23333,place:"Kamyshevka Vtoraya"},{id:10,postal_code:"04004 CEDEX",longitude:6.1717148,latitude:44.0527811,place:"Digne-les-Bains"}]);case 11:return e.prev=11,t&&O(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}})()(e);return function(){t=!1}}),[e]),{data:n,fetchError:l,isLoading:p}},g=Object(a.createContext)({}),m=function(e){var t=e.children,c=Object(a.useState)([]),n=Object(o.a)(c,2),s=n[0],i=n[1],r=Object(a.useState)(""),l=Object(o.a)(r,2),j=l[0],u=l[1],p=Object(a.useState)([]),h=Object(o.a)(p,2),b=h[0],O=h[1],x=f("http://localhost:3500/data"),m=x.data,v=x.fetchError,w=x.isLoading;return Object(a.useEffect)((function(){i(m)}),[m]),Object(a.useEffect)((function(){var e=s.filter((function(e){return e.place.toLowerCase().includes(j.toLowerCase())||e.place.toLowerCase().includes(j.toLowerCase())}));O(e.reverse())}),[s,j]),Object(d.jsx)(g.Provider,{value:{search:j,setSearch:u,searchResults:b,fetchError:v,isLoading:w,posts:s,setPosts:i},children:t})},v=g,w=function(){var e=Object(a.useContext)(v),t=e.search,c=e.setSearch;return Object(d.jsxs)("nav",{className:"Nav",children:[Object(d.jsxs)("form",{className:"searchForm",onSubmit:function(e){return e.preventDefault()},children:[Object(d.jsx)("label",{htmlFor:"search",children:"Search Places"}),Object(d.jsx)("input",{id:"search",type:"text",placeholder:"Search Places",value:t,onChange:function(e){return c(e.target.value)}})]}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:"/",children:"List"})}),Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:"/post",children:"Map"})}),Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:"/about",children:"About"})})]})]})},y=function(){var e=new Date;return Object(d.jsx)("footer",{className:"Footer",children:Object(d.jsxs)("p",{children:["Copyright Aman Shivhare \xa9 ",e.getFullYear()]})})},N=function(){return Object(d.jsxs)("main",{className:"About",children:[Object(d.jsx)("h2",{children:"About"}),Object(d.jsx)("p",{style:{marginTop:"1rem"},children:"This is a postal code info project created by Aman Shivhare"}),Object(d.jsx)("p",{children:"It displays the postal codes in list and map view format"}),Object(d.jsx)("p",{children:"Searching for any place will filter list and zoom in marker on map"}),Object(d.jsx)("p",{children:"Clicking on list item will take you to that place in map"})]})},S=function(){return Object(d.jsxs)("main",{className:"Missing",children:[Object(d.jsx)("h2",{children:"Page Not Found"}),Object(d.jsx)("p",{children:"Well, that's disappointing."}),Object(d.jsx)("p",{children:Object(d.jsx)(u.b,{to:"/",children:"Visit Our Homepage"})})]})},C=c(3),E=c(14),L=c(34),_={lat:34.81855942542896,lng:66.02703537132442},k=function(e){var t=e.applyHeight,c=e.zoom,a=e.posts,n=1===a.length?{transform:"scale(1.1)",filter:"brightness(120%)",border:"5px solid blue"}:{},s=t?"100%":"calc(100%-1px)";return Object(d.jsx)("div",{style:{width:"100%",height:s,position:"relative"},children:Object(d.jsx)(L.a,{center:1==a.length?{lat:a[0].latitude,lng:a[0].longitude}:_,bootstrapURLKeys:{key:"AIzaSyDGyA6gATo09SRCy8DwUxJdBPuxD_xRuQE"},defaultZoom:1,zoom:c,children:a.map((function(e){return Object(d.jsx)("p",{style:Object(E.a)({position:"absolute",width:40,height:40,left:-20,top:-20,border:"5px solid #f44336",borderRadius:40,backgroundColor:"white",textAlign:"center",color:"#3f51b5",fontSize:16,fontWeight:"bold",padding:4},n),lat:e.latitude,lng:e.longitude,text:e.place})}))})})},z=function(){var e=Object(a.useContext)(v),t=e.searchResults,c=e.posts,n=Object(C.f)().id,s={posts:t,zoom:10-t.length},i={posts:c.filter((function(e){return e.id.toString()===n})),zoom:11},r=n?i:s;return Object(d.jsx)("main",{className:"MapView",children:Object(d.jsx)(k,Object(E.a)({applyHeight:!0},r))})},A=function(e){var t=e.post;return Object(d.jsxs)("article",{className:"post",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)(u.b,{to:"/post/".concat(t.id),children:[Object(d.jsx)("h2",{children:t.place}),Object(d.jsx)("p",{className:"postDate",children:t.postal_code})]}),Object(d.jsx)("p",{className:"postBody",children:"Latitude: ".concat(t.latitude,"\n                Longitude: ").concat(t.longitude)})]}),Object(d.jsx)(k,{className:"Map",posts:[t],zoom:11})]})},M=function(e){var t=e.posts;return Object(d.jsx)(d.Fragment,{children:t.map((function(e){return Object(d.jsx)(A,{post:e},e.id)}))})},D=function(){var e=Object(a.useContext)(v),t=e.searchResults,c=e.fetchError,n=e.isLoading;return Object(d.jsxs)("main",{className:"ListView",children:[n&&Object(d.jsx)("p",{className:"statusMsg",children:"Loading posts..."}),!n&&c&&Object(d.jsx)("p",{className:"statusMsg",style:{color:"red"},children:c}),!n&&!c&&(t.length?Object(d.jsx)(M,{posts:t}):Object(d.jsx)("p",{className:"statusMsg",children:"No places to display."}))]})};var P=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(j,{title:"Postal Info"}),Object(d.jsxs)(m,{children:[Object(d.jsx)(w,{}),Object(d.jsxs)(C.c,{children:[Object(d.jsx)(C.a,{exact:!0,path:"/",component:D}),Object(d.jsx)(C.a,{exact:!0,path:"/post",component:z}),Object(d.jsx)(C.a,{path:"/post/:id",component:z}),Object(d.jsx)(C.a,{path:"/about",component:N}),Object(d.jsx)(C.a,{path:"*",component:S})]})]}),Object(d.jsx)(y,{})]})};i.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(u.a,{children:Object(d.jsx)(C.a,{path:"/",component:P})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.da0fe7fb.chunk.js.map